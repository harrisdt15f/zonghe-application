{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Withdraw/assets\\Script\\Hall\\Withdraw\\AccountDelTk.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Withdraw","sourcesContent":["\n\nimport { G_Language } from '../../Language/Language';\nimport { ACCOUNT_TYPE } from \"../../Config/config\";\nimport { uiEventModules, uiEventFunction } from \"../../Config/uiEvent\";\nimport {G_UiForms} from \"../../Tool/UiForms\"\nimport { G_OnFire } from '../../Net/OnFire';\nimport { TEXT_INFO } from '../../Config/IdentifyKey';\nimport { G_WithDrawControl } from '../../Controller/WithDrawControl';\nimport { G_Utils } from '../../Tool/Utils';\nimport { G_UserControl } from '../../Controller/UserControl';\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class AccountDelTk extends cc.Component {\n\n    @property(cc.Node)\n    nameEditBox : cc.Node = null;\n    @property(cc.Node)\n    securyEditBox : cc.Node = null;\n    @property(cc.Node)\n    codeEditBox : cc.Node = null;\n    @property(cc.Label)\n    cdTimeLabel : cc.Label = null;  \n\n    private data = null;\n    private cd_time = 0;\n    private ver_key = null;\n\n    update(dt){\n        if(this.cd_time >0){\n            this.cd_time -= dt;\n            this.onCheckVerificationState();\n        }\n    }\n\n    init(_data){\n        if(this.data != null  && this.data.id != _data.id)\n        {\n            this.cd_time = 0;\n            this.cdTimeLabel.string = '发送';            \n        }\n        this.data = _data;\n        //this.nameEditbox.getText().string = this.alipayName;\n        // this.nameEditInfo = \"\";\n        // this.codeEditInfo = '';\n        // this.nameEditBox.getComponent(\"MyEditbox\").getText().string = G_Language.get(\"accountNameInput\");\n        // this.securyEditBox.getComponent(\"MyEditbox\").getText().string = G_Language.get(\"serurityInput\");\n        // this.codeEditBox.getComponent(\"MyEditbox\").getText().string = G_Language.get(\"vcodeInput\");\n    }\n\n    onEnable(){\n        this.onCheckVerificationState();    \n    }\n\n    onCheckVerificationState()\n    {\n        if(this.cd_time > 0){\n            this.cdTimeLabel.string = Math.floor(this.cd_time).toString(); \n        }\n        else{\n            this.cdTimeLabel.string = '发送';  \n        }\n    }\n\n    set nameEditInfo(text : string){\n        this.nameEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string = text;\n    }\n    get nameEditInfo(){\n        return this.nameEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string\n    }\n    \n    set securyEditInfo(text : string){\n        this.securyEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string = text;\n    }\n    get securyEditInfo(){\n        return this.securyEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string\n    }\n    \n    set codeEditInfo(text : string){\n        this.codeEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string = text;\n    }\n    get codeEditInfo(){\n        return this.codeEditBox.getComponent(\"MyEditbox\").getEdiboxComponent().string\n    }\n \n    onVerificationClick(){\n        if(this.cd_time > 0)\n        {\n            return;\n        }\n        G_WithDrawControl.requesAccountDelVcode(function(ret){\n            if(ret.status){\n                G_UiForms.hint(G_Language.get('verificationCodeSend'));\n\n               // this.ver_mobile = this.phoneNumInfo;\n                this.cd_time = ret.data['nextReqTime'] - ret.data['currentReqTime'];\n                this.ver_key = ret.data['verification_key'];\n                // this.ver_code = ret.data['verification_code'];\n              //  console.log('cd_time  '+ this.cd_time + \"  ver_code  \" +ret.data['verification_code']);\n                this.onCheckVerificationState();   \n            }else\n            {\n                G_UiForms.hint(ret.message);\n            }\n        }.bind(this))   \n    }   \n\n    onBtnTrue(){     \n        //G_UiForms.Web(\"https://blog.k-res.net/archives/2428.html\")\n        if(this.data == null)\n        {\n            return;\n        }\n        if(this.nameEditInfo === ''){\n            G_UiForms.hint(G_Language.get(\"nameEmpty\"))\n            return;\n        }\n        if(this.nameEditInfo != this.data.owner_name){\n            G_UiForms.hint(G_Language.get(\"nameError\"))\n            return;\n        }\n        if(this.securyEditInfo === ''){\n            G_UiForms.hint(G_Language.get(\"securityisEmpty\"))\n            return;\n        }\n        if(this.codeEditInfo === '')\n        {\n            G_UiForms.hint(G_Language.get(\"verificationIsEmpty\"))\n            return;\n        } \n        G_WithDrawControl.requesAccountDel(this.data.id,this.securyEditInfo,this.nameEditInfo,this.codeEditInfo,this.ver_key,function(ret){\n            if(ret.status){\n                G_UiForms.hint(G_Language.get('delSuccess'));\n                G_OnFire.fire(uiEventFunction.manage, true);\n                this.onCheckVerificationState();   \n            }else\n            {\n                G_UiForms.hint(ret.message);\n            }\n        }.bind(this))   \n    }\n\n    onBtnFalse(){\n        G_OnFire.fire(uiEventFunction.manage, true);\n    }\n\n}\n"]}
{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Subitem/assets\\Script\\Hall\\Subitem\\SubitemControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Subitem","sourcesContent":["import RightNode from './RightNode';\n\n\nconst {ccclass, property} = cc._decorator;\n\nconst enum OPEN_TYPE{\n    NONE = 0, //关闭\n    OPEN = 1,  //开启\n}\n\n@ccclass\nexport default class SubitemControl extends cc.Component {\n\n    @property(cc.Node)\n    leftNode : cc.Node = null;\n    @property(cc.Node)\n    rightNode : cc.Node = null;\n\n    @property({\n        type : cc.Prefab,\n        tooltip:\"仅对有序的有效，往最后一层级添加\"\n    })\n    nonePanel : cc.Prefab = null;\n\n    private lastItem : cc.Node = null;\n    private deficiencyNode : cc.Node = null;\n\n    onLoad () {\n        this.rightNode.children.forEach((item, index)=>{\n            item.active = index == 0;\n            if(index == 0)\n                this.lastItem = item;\n        },this)\n        \n    }\n\n    start () {\n\n    }\n    \n    onEnable(){\n\n    }\n\n    // update (dt) {}\n    \n    onSelectedItem(target){\n        this.rightSelectdeItem = target.selecledId;\n    }\n\n    /**\n     * 选中的页面\n     * @param index 有序的下标\n     */\n    set rightSelectdeItem(index : any){\n        var item = this.rightNode.children[index]\n        this.singlePage(item, true, !item)     \n    }\n    get rightSelectdeItem(){\n        return this.lastItem\n    }\n\n    set leftSelectedItem(index){\n        var selected = this.leftNode.getComponent(\"myToggleSelected\")\n        selected.selectSingle = index\n    }\n    get leftSelectedItem(){\n        var selected = this.leftNode.getComponent(\"myToggleSelected\")\n        return selected.selectSingle \n    }\n\n    /**\n     * 页面的显隐，会先隐藏上一次选中的页面\n     * @param item 当前选中的对象\n     * @param flag 显隐控制\n     * @param deficiency 可选项 出现两边选择项不一样的时候使用\n     */\n    singlePage(item : cc.Node, flag : boolean, deficiency? : boolean){\n        if(this.lastItem)\n            this.lastItem.active = false;\n\n        item = item ? item : this.addNonePanle(!item || deficiency)\n        this.lastItem = item\n        item.active = flag;\n    }\n\n    /**\n     * 预设界面 未开启界面展示\n     * @param execute 是否需要加入预设界面\n     */\n    addNonePanle(execute :　boolean){\n        if(this.deficiencyNode){\n            this.rightNode.removeChild(this.deficiencyNode)\n            delete this.deficiencyNode;\n            this.deficiencyNode = null;\n        }\n        if(!execute || !this.nonePanel)\n            return;\n        this.deficiencyNode = cc.instantiate(this.nonePanel)\n        this.deficiencyNode.parent =  this.rightNode;\n        this.deficiencyNode.active = true;\n        return this.deficiencyNode\n    }\n\n}\n"]}
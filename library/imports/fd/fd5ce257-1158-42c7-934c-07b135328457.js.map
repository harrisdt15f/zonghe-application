{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Loanding/assets\\Script\\Hall\\Loanding\\loadingSecen.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA0C,gCAAY;IADtD;QAGI,sBAAsB;QACtB,0BAA0B;QAJ9B,qEAuEC;QAjEG,YAAY;QACZ,0BAA0B;QAI1B,iBAAW,GAAoB,IAAI,CAAC;QAGpC,WAAK,GAAa,IAAI,CAAC;QAGvB,YAAM,GAAa,IAAI,CAAC;QAGxB,SAAG,GAAa,IAAI,CAAC;QAKrB,eAAS,GAAgB,IAAI,CAAC;QAG9B,SAAG,GAAY,CAAC,CAAC;QACjB,WAAK,GAAY,CAAC,CAAC;;IA0CvB,CAAC;IAxCG,wBAAwB;IAExB,6BAAM,GAAN;QACE,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,MAAM,GAAG,GAAG,CAAA;IAC1D,CAAC;IAED,4BAAK,GAAL;QAAA,iBAwBC;QAvBC,QAAQ;QACR,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;QAC9B,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,CAAC,CAAC;QAC9B,gDAAgD;QAChD,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,WAAW,EAAC,UAAC,cAAc,EAAE,UAAU,EAAE,IAAI;YAClE,IAAI,CAAC,GAAG,cAAc,GAAC,UAAU,CAAC;YAClC,KAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,CAAC,CAAC;YAC9B,KAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,GAAC,GAAG,CAAC;YAC7C,6BAA6B;YAC3B,OAAO;YACP,iCAAiC;YAEjC,KAAI,CAAC,MAAM,CAAC,CAAC,GAAI,KAAI,CAAC,GAAG,CAAC,KAAK,CAAC;QAEpC,CAAC,EAAC;YACE,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEL,6CAA6C;IAK7C,CAAC;IAED,6BAAM,GAAN,UAAQ,EAAE;QACR,IAAI,CAAC,GAAG,IAAI,EAAE,CAAA;QACd,IAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,EAAC;YACxB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAA;YACZ,IAAI,CAAC,KAAK,GAAI,EAAE,CAAA;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;SACrC;IACH,CAAC;IA3DD;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;qDACW;IAGpC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACI;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACM;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACG;IAKrB;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;mDACO;IAxBb,YAAY;QADhC,OAAO;OACa,YAAY,CAsEhC;IAAD,mBAAC;CAtED,AAsEC,CAtEyC,EAAE,CAAC,SAAS,GAsErD;kBAtEoB,YAAY","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Loanding","sourcesContent":["\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class loadingSecen extends cc.Component {\n\n    // @property(cc.Label)\n    // label: cc.Label = null;\n\n    // @property\n    // text: string = 'hello';\n\n\n    @property(cc.ProgressBar)\n    progressBar : cc.ProgressBar = null;\n\n    @property(cc.Label)\n    label: cc.Label = null;\n\n    @property(cc.Node)\n    nonius :　cc.Node = null;\n\n    @property(cc.Node)\n    bar : cc.Node = null;\n\n\n\n    @property(cc.Animation)\n    shockWave:cc.Animation = null;\n\n\n    _dt : number = 0;\n    _play : number = 1;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n      this.node.scaleY = cc.director.getWinSize().height / 750\n    }\n\n    start () {\n      // 先设置0%\n      this.label.string = '0' + '%';\n      this.progressBar.progress = 0;\n      // 预加载，第一个是场景名，第二个callback中3个参数，第三个callback是完成回调\n      cc.director.preloadScene('HallScene',(completedCount, totalCount, item) => {\n          let p = completedCount/totalCount;\n          this.progressBar.progress = p;\n          this.label.string = Math.ceil(p * 100)+\"%\";\n        //   parseInt(p * 100) + '%';\n          // 打印观察\n          //console.log(this.label.string);\n\n          this.nonius.x  = this.bar.width;\n\n      },() => {\n          cc.director.loadScene('HallScene');\n      });\n\n    // this.v.getComponent(cc.VideoPlayer).play()\n\n\n\n     \n    }\n\n    update (dt) {\n      this._dt += dt\n      if(this._dt >= this._play){\n        this._dt = 0\n        this._play  = 10\n        this.shockWave.play(\"shockWaveClip\")\n      }\n    }\n}\n"]}
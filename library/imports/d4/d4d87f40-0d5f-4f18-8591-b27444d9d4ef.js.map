{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Withdraw/assets\\Script\\Hall\\Withdraw\\ManagePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\Withdraw","sourcesContent":["\nimport { G_OnFire } from '../../Net/OnFire';\nimport { ACCOUNT_TYPE ,BANK_CARD_NAME} from \"../../Config/config\"\nimport {uiEventFunction} from \"../../Config/uiEvent\"\nimport List from '../../Common/List';\n\nconst {ccclass, property} = cc._decorator;\n\nclass tempModel{\n    accountType : any;\n    bankType : any;\n    number : any;\n}\n\n@ccclass\nexport default class ManagePanel extends cc.Component {\n\n    @property(List)\n    list : List = null;\n\n    @property(cc.SpriteAtlas)\n    bankAtlas : cc.SpriteAtlas = null;\n    @property(cc.SpriteAtlas)\n    com9sAtlas : cc.SpriteAtlas = null;\n    @property(cc.SpriteAtlas)\n    caption : cc.SpriteAtlas = null;\n    \n    // private content = null;\n    private temp = [];\n    private manageAddNode = null;\n    // private scrollviewAddBank = null;\n\n    onLoad () {\n        this.list.node.active = true;\n        this.manageAddNode = this.node.getChildByName(\"manageAddNode\")\n        this.manageAddNode.active = false;\n\n        G_OnFire.on(uiEventFunction.manage, this.setManagePanelActive.bind(this));\n        G_OnFire.on(uiEventFunction.atOnceManage, this.setManagePanelActive.bind(this));\n        \n        this.temp = [];\n        var tempmodel = new tempModel();\n        tempmodel.accountType = ACCOUNT_TYPE.NONE\n        tempmodel.bankType = ACCOUNT_TYPE.NONE;\n        tempmodel.number = ACCOUNT_TYPE.NONE;\n        this.temp.push(tempmodel)\n        \n        for (let key in BANK_CARD_NAME) {\n            tempmodel = new tempModel();\n            let keyType = Number(key)\n            if (keyType == ACCOUNT_TYPE.ALIPAY){\n                tempmodel.accountType = ACCOUNT_TYPE.ALIPAY\n                tempmodel.bankType = 0;\n                tempmodel.number = key + \"123525\" + \"@qq.com\";\n            }else{\n                tempmodel.accountType = ACCOUNT_TYPE.BANK;\n                tempmodel.bankType = key;\n                tempmodel.number =\"123456789101234\";\n            }\n            this.temp.push(tempmodel)\n        }\n        // console.log(\">>>\",BANK_CARD_NAME[1])\n        this.list.numItems = this.temp.length / 2\n    }\n\n    start () {\n\n    }\n\n    onEnable(){\n        \n    }\n\n    // update (dt) {}\n\n    onDestroy(){\n        G_OnFire.off(uiEventFunction.manage);\n    }\n    \n\n    accountBySeparator(account : string){\n        var strLen = Math.round( account.length / 4 )\n        var count = 0\n        let str = \"\";\n        for (let index = 0; index < strLen; index++) {\n            var strNo = account.substring(count, count + 4)\n            var separator = strNo.length <= 3 ?  \"\" : \"/\";\n            str += strNo.concat(separator)\n            count += 4;\n        }\n        return str;\n    }\n\n    accountBySeparatorSuffix(account : string){\n        var strList = account.split(\"@\")\n        return strList\n    }\n\n    setManagePanelActive(flag){\n        this.list.node.active = flag;\n        this.manageAddNode.active = !flag;\n    }\n\n    \n    onListRender(item: cc.Node, idx: number) {\n        if(!item)\n            return;\n\n        var data = this.temp[idx]\n        var box = item.getChildByName(\"box\");\n        var sprAccountName = item.getChildByName(\"sprAccountName\")\n        var sprAdd = item.getChildByName(\"sprAdd\")\n        sprAdd.active = data.accountType == ACCOUNT_TYPE.NONE;\n\n        var labelNode = item.getChildByName(\"labelNode\")\n        var labAccount = labelNode.getChildByName(\"labAccount\")\n        var sprSuffix = labelNode.getChildByName(\"sprSuffix\")\n        sprSuffix.active = data.accountType == ACCOUNT_TYPE.ALIPAY;\n\n        switch ( data.accountType ) {\n            case ACCOUNT_TYPE.NONE:\n                this.setSpriteFrame(box, this.com9sAtlas, \"hesiBox\");\n                this.setSpriteFrame(sprAccountName, this.caption, \"tjzh\")\n                labAccount.active = false;\n                break;\n            case ACCOUNT_TYPE.ALIPAY:\n                this.setSpriteFrame(box, this.bankAtlas, \"zfb_panel\");\n                this.setSpriteFrame(sprAccountName, this.bankAtlas, \"yh\"+data.bankType)\n                var strList = this.accountBySeparatorSuffix(data.number)\n                labAccount.getComponent(cc.Label).string = strList[0]\n                break;\n            case ACCOUNT_TYPE.BANK:\n                this.setSpriteFrame(box, this.bankAtlas, \"yh_panel\");\n                this.setSpriteFrame(sprAccountName, this.bankAtlas, \"yh\"+data.bankType)\n                var str = this.accountBySeparator(data.number)\n                labAccount.getComponent(cc.Label).string = str\n                break;        \n        }\n    \n    }\n\n    //更新图案\n    setSpriteFrame(target : cc.Node, atlas : cc.SpriteAtlas , frameName : string){\n        target.getComponent(cc.Sprite).spriteFrame = atlas.getSpriteFrame(frameName);\n    }\n\n    //当列表项被选择...\n    onListSelected(item: any, selectedId: number, lastSelectedId: number, val: number) {\n        if (!item)\n            return;\n\n        console.log(\"》》》》》》》》\",selectedId,this.temp[selectedId])\n        var data = this.temp[selectedId]\n        if(data.accountType == ACCOUNT_TYPE.NONE){\n            this.manageAddNode.active = true;\n            this.list.node.active = false;\n        }\n   \n    }\n}\n"]}
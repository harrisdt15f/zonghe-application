{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\test/assets\\Script\\Hall\\test\\UIDatePicker.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\test","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class UIDatePicker extends cc.Component {\n\n\n    @property(cc.Node)\n    contentNode : cc.Node = null\n    @property(cc.Node)\n    text :　cc.Node = null;\n\n    _visibleClipNumber : number = 3  // 同时显示Item的个数\n    _velocity : number = 3            // 速率\n    _timeLimit : number = 0.5         // 时间限制\n    _distanceLimit : number = 500     // 距离限制\n    _timeCondition : number = 0.3     // 时间条件\n    _distanceCondition : number = 30  // 距离条件\n \n    _diffY : number = 0\n    _diffYCount : number = 0          // 周期性计数,y轴的移动距离\n    _onceDiffYCount : number = 0      // 一次触摸y轴的移动距离\n    _timeCount : number = 0          // 触摸时间计时\n    _runningAction : any = null\n    _list : Array<cc.Node> = [];            // item列表，用来平衡坐标\n    _originList :Array<cc.Node> = [];    \n    _currentItemIndex : number = 2         // 目前是第几个item\n    _value : any = null        // 当前item的value\n    _beginPos : any = null\n  \n    _backGround : any = null\n \n    _bMoveing : boolean = false\n    _bTouching : boolean = false\n    _bBeginCountTime : boolean = false\n \n    // _fontColor: cc.Color = cc.Color.BLACK\n    // cc.color. BLACK\n    // _fontSize : number = 40\n    // _fontname : string = \"Arial\"\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this);\n        // this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchBegin, this);\n\n        var list = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\"];\n        for(var i = 0; i < list.length; i++){\n            var _text = cc.instantiate(this.text)\n            _text.getComponent(cc.Label).string = list[i]\n            _text.width = 60;\n            _text.height = 125/3\n            // _text.x = 0;\n            // _text.y = i * _text.height + _text.height / 2\n            this.contentNode.addChild(_text, 1, String(i))\n            this._list.push(_text);\n            this._originList.push(_text);\n        }\n        this._value = this._originList[0].getComponent(cc.Label).string;\n        this._diffYCount = this._list[0].height;\n        this._beginPos = cc.p(0,0);\n        this._distanceLimit = 125*2 + Math.random()*50;\n\n    }\n\n    start () {\n    }\n\n    update (dt) {\n        if(!this._bTouching && this._bMoveing){ // Action中的时候，计算偏移量\n            var diffY = this.contentNode.y - this._beginPos.y;\n            this._diffYCount = this._diffYCount + diffY;\n            this._beginPos = this.contentNode.getPosition();\n        }\n        this._balance();\n        if(this._bBeginCountTime) this._timeCount = this._timeCount + dt; \n    }\n\n    onEnable(){\n\n    }\n\n\n    _onTouchEnded (touch) {\n        // var target = touch.getCurrentTarget();\n        this._bTouching = false;\n \n        // 计算滑动  计算距离  计算速度\n        if (/*Math.abs(target._onceDiffYCount) > target._distanceCondition &&*/ \n            this._timeCount < this._timeCondition) {\n\n            if( this.contentNode.getActionByTag(1) )\n                this.contentNode.stopAction(this._runningAction);\n\n            var distance = Math.round(this._onceDiffYCount*this._velocity);\n            var time = this._timeCount * this._velocity;\n            var pn = distance > 0 ? 1 : -1;\n            distance = Math.abs(distance) > Math.abs(this._distanceLimit) ? pn * this._distanceLimit: distance;\n            time = time < this._timeLimit ? this._timeLimit: time;\n            var move = cc.moveBy(time, 0, distance);\n            this._runningAction = cc.sequence(move.easing(cc.easeSineOut()), cc.callFunc(this._bounceBalance, this));\n            this._runningAction.setTag(1)\n            this.contentNode.runAction(this._runningAction);\n            console.log(\"运行》》》》\")\n            this._beginPos = this.contentNode.getPosition();\n            this._bMoveing = true;\n        }else{ // 如果不移动，那么直接做平衡\n            this._bounceBalance();\n        }\n        this._onceDiffYCount = 0;\n        this._timeCount = 0;\n        this._bBeginCountTime = false;\n    }\n\n    _onTouchBegan (touch) {\n        var target = touch.getCurrentTarget();\n        if (!target.getBoundingBoxToWorld().contains(touch.getLocation())) return false;\n\n        this._beginPos = touch.getLocation();\n        this._bTouching = true;\n        this._bMoveing = false;\n        \n        if( this.contentNode.getActionByTag(1) )\n            this.contentNode.stopAction(this._runningAction);\n\n        // if (target._contentNode.isRunning())\n        //     target._contentNode.stopAction(target._runningAction);\n        // 开启滑动计时\n        this._bBeginCountTime = true;\n        this._timeCount = 0;\n        return true;\n    }\n\n    _onTouchMoved (touch) {\n        // Move中的时候，计算偏移量\n        // var target = touch.getCurrentTarget();\n        var getPoint = touch.getLocation();\n        var diffY = getPoint.y - this._beginPos.y;\n        this.contentNode.y = this.contentNode.y + diffY;\n        this._beginPos = getPoint;\n        this._diffYCount = this._diffYCount + diffY;\n        this._onceDiffYCount = this._onceDiffYCount + diffY;\n    }\n\n\n     \n    _bounceBalance(){\n        var itemHight = this._list[0].height;\n        var num = Math.round(this.contentNode.y % itemHight);\n        var distance = 0;\n        if ( num > 0){\n            distance = num > itemHight/2 ? itemHight - num : -num;\n        }else {\n            distance = num > -itemHight/2 ? -num : -(itemHight + num);\n        }\n        var action = cc.moveBy(0.2, 0, distance).easing(cc.easeSineOut());\n        this._runningAction = cc.sequence(action, cc.callFunc(this._end, this))\n        this._runningAction.setTag(1)\n        this.contentNode.runAction(this._runningAction);\n        console.log(\"运行》》000》》\")\n    }\n\n    _end(){\n        var num = Math.round(this.contentNode.y / this._list[0].height);\n        var num2 = -1 * (num % this._list.length);\n        if (num2 > 0){\n            this._currentItemIndex = num2 + 2;\n        }else if (num2 < 0){\n            this._currentItemIndex = this._list.length + num2 + 2;\n \n        }else{\n            this._currentItemIndex = 2;\n        }\n        if (this._currentItemIndex > this._list.length){\n            this._currentItemIndex = this._currentItemIndex % this._list.length;\n        }\n        this._value = this._originList[this._currentItemIndex-1].getComponent(cc.Label).string;\n        cc.log(\"_end\",this._value);\n    }\n\n\n    _balance(){\n        if(this._diffYCount > this._list[0].height){\n            var topItem = this._list.pop();\n            topItem.y = this._list[0].y - this._list[0].height;\n            this._list.unshift(topItem);\n            this._diffYCount = this._diffYCount - this._list[0].height;\n        }else if (this._diffYCount < -this._list[0].height) {\n            var bottomItem = this._list.shift();\n            bottomItem.y = this._list[this._list.length-1].y + this._list[this._list.length-1].height;\n            this._list.push(bottomItem);\n            this._diffYCount = this._diffYCount + this._list[0].height;\n        }\n    }\n\n}\n"]}
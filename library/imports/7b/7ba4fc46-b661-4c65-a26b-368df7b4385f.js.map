{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Controller/assets\\Script\\Controller\\UserControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Controller","sourcesContent":["\nimport { G_UiForms } from \"../Tool/UiForms\";\nimport { G_HttpHelper } from \"../Net/HttpHelper\";\nimport { CODE } from \"../Config/IdentifyKey\";\nimport { UserModel } from '../Model/UserModel';\nimport { IS_LOGIN } from \"../Config/config\";\nimport {EventRequest, uiEventFunction} from \"../Config/uiEvent\";\nimport { G_OnFire } from '../Net/OnFire';\nimport { G_VipControl } from \"./VipControl\";\nimport { G_CommonControl } from \"./CommonControl\";\n\nclass UserControl {\n  \n    public static readonly Instance : UserControl = new UserControl();\n\n    public _userModel : UserModel = null;\n\n\n    constructor(){\n        this._userModel = new UserModel();\n    }\n\n    getUser(){\n        return this._userModel;\n    }\n\n    /**\n     * 是否有登陆过\n     */\n    isLogin() : boolean{\n        if(IS_LOGIN)\n            return IS_LOGIN;\n\n        let isAccount=  this._userModel.userMobile;\n        let isPassword = this._userModel.userPassword;\n        if(!isAccount || isAccount ==='')\n            return false;\n\n        if(!isPassword || isPassword === '')\n            return false;\n\n        return true;\n    }\n\n    /**\n     * 在启动的时候检测一次是否上一次有登陆成功的账户 有就主动登陆一次\n     */\n    detectionLogin(ret){\n        let flag = this.isLogin()\n        if(!flag)\n            return;\n            \n\n        if(IS_LOGIN)\n            return;\n\n        let isAccount=  this._userModel.userMobile;\n        let isPassword = this._userModel.userPassword;\n        this.requestLogin(isAccount, isPassword,function(data){\n          //  console.log(\"[游戏启动]\",\"自动重新登陆一次\")\n            if(ret){\n                ret(data);\n            }\n        })\n    }\n\n    /**\n     * 登陆请求\n     * @param mobile 账户\n     * @param password \n     * @param call \n     */\n    requestLogin(mobile : string, password : string, call? : Function ){\n        G_HttpHelper.httpPost(\"/app-api/login\",{\n            mobile : mobile,\n            password : password\n        }, function(ret){\n            //console.log(\"[登陆]：返回数据\",ret)    \n            if(ret.status && ret.code == CODE.SUCCEED){\n                //保存登陆名称，密码\n                this._userModel.userMobile = mobile;\n                this._userModel.userPassword = password;\n                this._userModel.accessToken = ret.data.access_token;\n                this.requesPlayerData(function(data){\n                    if(call){\n                        call(data)\n                    }\n                })\n               // G_CommonControl.requesGameData();\n            }else if(!ret.status){\n                this._userModel.userPassword = '';\n                this._userModel.accessToken = '';\n                G_OnFire.fire(EventRequest.HeadUpdata)\n                G_UiForms.hint(ret.message)\n                if(call){\n                    call(ret)\n                }\n            }\n        }.bind(this))\n\n    }\n    \n    /**\n     * 注册请求\n     * @param mobile 账户\n     * @param password 密码\n     * @param passwordagain 二次密码\n     * @param ver_code 验证码\n     * @param ver_key  验证key\n     * @param invite_code 邀请码\n     */\n    requestRegister(mobile : string,password : string, passwordagain:string,ver_code:string,ver_key:string,invite_code:string, call? : Function ){\n        let list = {};\n        list[\"password\"] = password;\n        list[\"password_confirmation\"] = passwordagain;\n        list[\"verification_code\"] = ver_code;\n        list[\"verification_key\"] = ver_key;\n        if(invite_code)\n            list[\"invite_code\"] = invite_code;\n\n        G_HttpHelper.httpPost(\"/app-api/register\",list, function(ret){\n           // console.log(\"[注册]：返回数据\",ret)    \n            if(ret.status && ret.code == CODE.SUCCEED){\n                //保存登陆名称，密码\n                this._userModel.userMobile = mobile;\n                this._userModel.userPassword = password;\n                this._userModel.accessToken = ret.data[\"access_token\"];\n                this.requesPlayerData(function(data){\n                    if(call){\n                        call(data)\n                    }\n                });\n            }else if(!ret.status){\n                G_UiForms.hint(ret.message)\n            }\n        }.bind(this))\n\n    }\n\n    /** \n    *密码找回\n    * @param mobile 账户\n    * @param password 密码\n    * @param passwordagain 二次密码\n    * @param ver_code 验证码\n    * @param ver_key  验证key\n    */\n    requestRecoverCode(mobile : string,password : string, passwordagain:string,ver_code:string,ver_key:string, call? : Function ){\n        let list = {};\n        list[\"password\"] = password;\n        list[\"password_confirmation\"] = passwordagain;\n        list[\"verification_code\"] = ver_code;\n        list[\"verification_key\"] = ver_key;\n        G_HttpHelper.httpPut(\"/app-api/user/reset-password\",list, function(ret){\n            console.log(\"[密码找回]：返回数据\",ret)    \n            if(ret.status && ret.code == CODE.SUCCEED){\n                //保存登陆名称，密码\n                this._userModel.userMobile = mobile;\n                this._userModel.userPassword = password;\n                if(call){\n                    call(ret)\n                }\n                this.requestLogin(mobile,password);\n               // this.requesPlayerData(function(){\n               // });\n            }else if(!ret.status){\n                G_UiForms.hint(ret.message)\n            }\n        }.bind(this))\n\n    }\n\n    \n    /** \n    *密码修改\n    * @param mobile 账户\n    * @param password 密码\n    * @param passwordagain 二次密码\n    * @param ver_code 验证码\n    * @param ver_key  验证key\n    */\n   requestPasswordChange(securitycode : string,password : string, passwordagain:string,ver_key:string, call? : Function ){\n    let list = {};\n    list[\"password\"] = password;\n    list[\"password_confirmation\"] = passwordagain;\n   // list[\"verification_code\"] = ver_code;\n    list[\"verification_key\"] = ver_key;\n    G_HttpHelper.httpPost(\"/app-api/user/reset-password\",list, function(ret){\n        //console.log(\"[注册]：返回数据\",ret)    \n        if(ret.status && ret.code == CODE.SUCCEED){\n            //保存登陆名称，密码\n           // this._userModel.userMobile = mobile;\n            this._userModel.userPassword = password;\n            this._userModel.accessToken = ret.data[\"access_token\"];\n            this.requesPlayerData(function(){\n                if(call){\n                    call(ret)\n                }\n            });\n        }else if(!ret.status){\n            G_UiForms.hint(ret.message)\n        }\n    }.bind(this))\n\n}\n\n    /**\n     * 手机注册码验证\n     * @param mobile 账户\n     * @param password \n     * @param call \n     */\n    requestVerificationCode(mobile : string, call? : Function ){\n        G_HttpHelper.httpPost(\"/app-api/register/verification-code\",{\n            mobile : mobile,\n        }, function(ret){\n            if(ret.status && ret.code== CODE.SUCCEED)\n            {\n                if(call)\n                {\n                    call(ret);\n                }  \n            }else\n            {\n                G_UiForms.hint(ret.message); \n            }\n        }.bind(this))\n\n    }\n\n\n    /**\n     * 密码重置码验证\n     * @param mobile 账户\n     * @param password \n     * @param call \n     */\n    requestVerificationRecoveCode(mobile : string, call? : Function ){\n        G_HttpHelper.httpPost(\"/app-api/reset-password/verification-code\",{\n            mobile : mobile,\n        }, function(ret){\n            if(ret.status && ret.code== CODE.SUCCEED)\n            {\n                if(call)\n                {\n                    call(ret);\n                }  \n            }else\n            {\n                G_UiForms.hint(ret.message); \n            }\n        }.bind(this))\n\n    }\n\n\n    \n    /**\n     * 手机安全码验证\n     * @param mobile 账户\n     * @param password \n     * @param call \n     */\n    requestSecurityVerificationCode(call? : Function ){\n        G_HttpHelper.httpPost(\"/app-api/security-verification-code\",null, function(ret){\n            if(ret.status && ret.code== CODE.SUCCEED)\n            {\n                if(call)\n                {\n                    call(ret);\n                }  \n            }else\n            {\n                G_UiForms.hint(ret.message); \n            }\n        }.bind(this))\n\n    }\n\n\n     /** \n    *修改安全码\n    * @param mobile 账户\n    * @param password 密码\n    * @param passwordagain 二次密码\n    * @param ver_code 验证码\n    * @param ver_key  验证key\n    */\n   requestSecurityRecoverCode(password : string, passwordagain:string,ver_code:string,ver_key:string, call? : Function ){\n    let list = {};\n    list[\"security_code\"] = password;\n    list[\"security_code_confirmation\"] = passwordagain;\n    list[\"verification_key\"] = ver_key;\n    list[\"verification_code\"] = ver_code;\n    G_HttpHelper.httpPost(\"/app-api/user/security-code\",list, function(ret){\n        console.log(\"[修改安全码]：返回数据\",ret)    \n        if(ret.status && ret.code == CODE.SUCCEED){\n            if(call)\n            {\n                call(ret);\n            }           \n        }else if(!ret.status){\n            G_UiForms.hint(ret.message)\n        }\n    }.bind(this))\n\n}\n\n \n    /**\n     * 请求玩家信息 \n     */\n    requesPlayerData(call){\n        if(!this._userModel.accessToken){\n            G_UiForms.hint(\"请重新登陆！\")\n            return;\n        }   \n       this.sendnormalInfoPlaydata(call);\n       //G_VipControl.requesVipData();\n    }\n\n    sendnormalInfoPlaydata(call){\n        G_HttpHelper.httpGet(\"/app-api/user/information\", function(ret){\n            //console.log(\"[玩家信息]：1返回数据\",ret); \n            if(ret.status && ret.code == CODE.SUCCEED)\n            {\n                this._userModel.userName = ret.data.nickname\n                this._userModel.uid = ret.data.guid\n                this._userModel.usePic =ret.data.avatar\n               // console.log(\"pic \"+this._userModel.usePic)\n            }\n           // G_OnFire.fire(EventRequest.HeadUpdata)          \n            this.sendspecialPlayerData(call);\n        }.bind(this))\n    }\n\n    sendspecialPlayerData(call){\n        G_HttpHelper.httpGet(\"/app-api/user/dynamic-information\", function(ret){\n            console.log(\"[玩家信息]：2返回数据\",ret); \n            if(ret.status && ret.code == CODE.SUCCEED)\n            {\n                this._userModel.richrank =ret.data.rich_rank\n                this._userModel.level = ret.data.level_deep\n                this._userModel.balance = ret.data.balance\n                this._userModel.exp = ret.data.experience\n                this._userModel.score = ret.data.score\n                //this._userModel.userVipLevel = ret.data.grade\n                this._userModel.userVipLevel = 8\n                this._userModel.vipweekly = ret.data.weekly_gift\n                this._userModel.vippromotion = ret.data.promotion_gift\n               // console.log(\"pic \"+this._userModel.richrank)\n            }\n            if(call)\n            {\n                call(ret)\n            }\n            G_OnFire.fire(EventRequest.HeadUpdata)\n           // G_OnFire.fire(uiEventFunction.colseBox)\n        }.bind(this))\n    }\n   \n    requesPlayerChange(name,pic,call){\n        G_HttpHelper.httpPost(\"/app-api/user/information\",{\n            avatar:pic,\n            nickname:name,\n        }, function(ret){\n            console.log(\"[更改信息]：1返回数据\",ret); \n            if(ret.status && ret.code == CODE.SUCCEED)\n            {\n                this._userModel.userName = ret.data.nickname\n                this._userModel.usePic =ret.data.avatar\n                G_OnFire.fire(EventRequest.HeadUpdata)\n            }\n            if(call)\n            {\n                call(ret)\n            }\n        }.bind(this))\n    }\n    \n    /** \n    *刷新token\n    */\n   requestAccesstoken(call? : Function ){\n    G_HttpHelper.httpPut(\"/app-api/user/refresh-token\",null, function(ret){\n        console.log(\"[刷新token]：返回数据\",ret)    \n        if(ret.status && ret.code == CODE.SUCCEED){\n            //保存登陆名称，密码\n            this._userModel.accessToken = ret.data[\"access_token\"];\n            if(call){\n                call(ret)\n            }\n        }\n    }.bind(this));\n}\n\n\n   \n\n    /**\n     * 退出登陆\n     */\n    requesLoginOut(call){\n        if(!this._userModel.accessToken){\n            G_UiForms.hint(\"请重新登陆！\")\n            return;\n        }\n        G_HttpHelper.httpGet(\"/app-api/user/logout\", function(ret){\n           // console.log(\"[退出登陆]：返回数据\",ret)   \n            if(ret.status && ret.code == CODE.SUCCEED){\n                //保存登陆名称，密码\n              //  this._userModel.userMobile = '';\n                this._userModel.userPassword = '';\n                this._userModel.accessToken = '';\n                G_OnFire.fire(EventRequest.HeadUpdata)\n                if(call)\n                    call(ret);\n            }else if(!ret.status){\n                G_UiForms.hint(ret.message)\n            }\n        }.bind(this))\n    }\n\n\n}\n\n\n\nexport const G_UserControl = UserControl.Instance;\n"]}
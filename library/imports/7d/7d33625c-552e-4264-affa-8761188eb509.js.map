{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\TimeSelect/assets\\Script\\Hall\\TimeSelect\\TimeSelectNode.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Hall\\TimeSelect","sourcesContent":["\n\nimport { G_Language } from '../../Language/Language';\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class TimeSelectNode extends cc.Component {\n\n   \n\n    private classArray = [];\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.classArray = [];\n        var panel = this.node.getChildByName(\"panel\")\n        var box = panel.getChildByName(\"box\")\n        \n        var year =  this.getYear()\n        var yearArray = [];\n        yearArray.push(year.toString())\n\n        var listYear = box.getChildByName(\"listYear\")\n        var classYear = listYear.getComponent(\"scrollviewTimesSelect\")\n        classYear.itemInit = yearArray\n        \n        //月\n        let month = this.getMonth()\n        var listMonth = box.getChildByName(\"listMonth\")\n        var classMonth = listMonth.getComponent(\"scrollviewTimesSelect\");\n        classMonth.itemInit = month;\n\n        //日\n        let selectIndex = classMonth.selectedIndex\n        let day = this.getDay(selectIndex, year)\n        var listDay = box.getChildByName(\"listDay\")\n        var classDay = listDay.getComponent(\"scrollviewTimesSelect\")\n        classDay.itemInit = day;\n\n        //时\n        let hour = this.getHour()\n        var listHour = box.getChildByName(\"listHour\")\n        var classHour = listHour.getComponent(\"scrollviewTimesSelect\")\n        classHour.itemInit = hour;\n   \n        //分\n        let minute = this.getMinute();\n        var listMinute = box.getChildByName(\"listMinute\")\n        var calssMinute = listMinute.getComponent(\"scrollviewTimesSelect\")\n        calssMinute.itemInit = minute;\n\n        //秒\n        let second = this.getSecond();\n        var listSecond = box.getChildByName(\"listSecond\")\n        var classSecond = listSecond.getComponent(\"scrollviewTimesSelect\")\n        classSecond.itemInit = second;\n\n    }\n\n    start () {\n\n    }\n\n    // update (dt) {}\n\n    getYear() : number {\n        var date = new Date();\n        // date .getYear(); //获取当前年份(2位)\n        return date.getFullYear(); //获取完整的年份(4位)\n    }\n    getDaysOfMonth(year,month) : number {\n        var date = new Date(year,month,0);\n        var days = date.getDate();\n        return days;\n    }\n\n\n    //月\n    getMonth() : string[] {\n        let month : Array<string> = []\n        let strMonth = G_Language.get(\"month\")\n        var index : number = 1;\n        while (index <= 12) {\n            month.push(index + strMonth)\n            index++;\n        }\n        return month;\n    }\n    //天\n    getDay( selectKey : number, year : number) : string[] {\n        let maxDay = this.getDaysOfMonth(year, selectKey)\n        let day : Array<string> = []\n        let strDay = G_Language.get(\"day\")\n        var index : number = 1;\n        while (index <= maxDay) {\n            day.push(index + strDay)\n            index++;\n        }\n        return day;\n    }\n\n    //时\n    getHour() : string[] {\n        let hour : Array<string> = []\n        let strHour = G_Language.get(\"hour\")\n        var index : number = 0;\n        while (index < 24) {\n            hour.push(index + strHour)\n            index++\n        }\n        return hour;\n    }\n\n    //分\n    getMinute() : string[] {\n        let minute : Array<string> = []\n        let strMinute : string = G_Language.get(\"minute\")\n        var index : number = 0;\n        while (index < 60) {\n            minute.push(index + strMinute)\n            index++\n        }\n        return minute\n    }\n\n    //秒\n    getSecond() : string[] {\n        let second : Array<string> = []\n        let strSecond : string = G_Language.get(\"second\")\n        var index : number = 0;\n        while (index < 60) {\n            second.push(index + strSecond)\n            index++\n        }\n        return second;\n    }\n\n\n    getSelectTiemGroup(){\n        let n = this.classArray[0].getSelectIndex();\n        let y = this.classArray[1].getSelectIndex();\n        let r = this.classArray[2].getSelectIndex();\n        let s = this.classArray[3].getSelectIndex();\n        let f = this.classArray[4].getSelectIndex();\n        let m = this.classArray[5].getSelectIndex();\n        // string.formats\n        return {n,y,r,s,f,m}\n    }\n\n\n}\n"]}
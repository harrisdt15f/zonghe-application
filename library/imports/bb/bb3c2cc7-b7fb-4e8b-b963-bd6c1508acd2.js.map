{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Hall/assets\\Script\\Hall\\HallLiaotianNode.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Hall","sourcesContent":["\n\nimport {G_Utils} from \"../Tool/Utils\"\n//聊天面板\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class HallLiaotianNode extends cc.Component {\n    // onLoad () {}\n\n    @property(cc.Sprite)\n    sprGx : cc.Sprite = null;\n    @property(cc.EditBox)\n    editboxLiaotian : cc.EditBox = null;\n    @property(cc.Sprite)\n    btnSend : cc.Sprite = null;\n\n    // @property(cc.Sprite)\n    // vip : cc.Sprite = null;\n\n    @property(cc.Label)\n    labelInfo : cc.Label = null;\n\n    @property(cc.SpriteAtlas)\n    headAtlas : cc.SpriteAtlas = null;\n    \n\n    private strInfo = null;//输入框的内容\n\n    private flagUn = false;\n    private bg = null;\n    private userPanel = null;\n    private unfoldPanel = null;\n    private timeDt = 0;\n    private _ds = null;\n    private _fh = null;\n    private _xialajiant = null;\n    private _content = null;\n    private _userPanel = null;\n\n    start () {\n        let sq = cc.sequence(cc.fadeOut(2), cc.fadeIn(2))\n        this.sprGx.node.runAction( cc.repeatForever(sq.easing(cc.easeInOut(2.0))))\n\n\n        this.editboxLiaotian.node.on('editing-did-began', this.callbackEditingDidBegan, this);\n        this.editboxLiaotian.node.on('text-changed', this.callbackTextChanged, this);\n\n        this._xialajiant = this.node.getChildByName(\"xialajiant\")\n        this._xialajiant.x = 132;\n        this._xialajiant.y = 139;\n        this._xialajiant.on(cc.Node.EventType.TOUCH_END, this.onUnfold.bind(this));\n        let m1 = cc.moveBy(1,cc.v2(0,10))\n        let m2 = cc.moveBy(1,cc.v2(0,-10))\n        let a2 = cc.sequence(m1, m2)\n        this._xialajiant.runAction( cc.repeatForever( a2 ) )\n\n        this.bg = this.node.getChildByName(\"bg\");\n        this.userPanel = this.node.getChildByName(\"userPanel\");\n        this.unfoldPanel = this.node.getChildByName(\"unfoldPanel\");\n        let panel = this.unfoldPanel.getChildByName(\"panel\");\n        let btnLeft = panel.getChildByName(\"btnLeft\");\n        let btnRight = panel.getChildByName(\"btnRight\");\n        let btnClose = panel.getChildByName(\"btnClose\");\n        btnClose.x = 140;\n        btnClose.y = 116;\n        btnClose.runAction( cc.repeatForever( a2 ) )\n\n        btnLeft.on(cc.Node.EventType.TOUCH_END, this.onDirection.bind(this));\n        btnRight.on(cc.Node.EventType.TOUCH_END, this.onDirection.bind(this));\n        btnClose.on(cc.Node.EventType.TOUCH_END, this.onUnfoldClose.bind(this));\n\n        let titleBox = panel.getChildByName(\"titleBox\");\n        this._ds = titleBox.getChildByName(\"jrdsb\");//赌神\n        this._fh = titleBox.getChildByName(\"jrfhb\");//富豪  \n        this._ds.active = true;\n        this._fh.active = false;\n\n        let strTemp = G_Utils.getPhoneNumberStar(\"12345678901\");\n        let LayoutList = panel.getChildByName(\"LayoutList\");\n        for (let index = 0; index < LayoutList.children.length ; index++) {\n            let _node = LayoutList.children[index];\n            _node.getChildByName(\"labShouJi\").getComponent(cc.Label).string = strTemp;\n            _node.getChildByName(\"labJinBi\").getComponent(cc.Label).string = 0;\n        }\n        \n\n        var scrollviewLT = this.unfoldPanel.getChildByName(\"scrollviewLT\");\n        var view = scrollviewLT.getChildByName(\"view\");\n        this._content = view.getChildByName(\"content\");\n        this._userPanel = this._content.getChildByName(\"userPanel\");\n        this._content.removeAllChildren()\n\n        this.setUserPanel()\n\n    }\n\n    // update (dt) {\n\n    // }\n\n    callbackEditingDidBegan(){\n        console.log(\"做了什么\")\n    }\n\n\n    callbackTextChanged(event){\n        // console.log(\"有什么信息》》\",event)\n        this.strInfo = event.string;\n    }\n\n    onSendCallBack(){\n        this.labelInfo.string = this.strInfo\n        this.editboxLiaotian.string = \"\";\n    }\n\n\n    onUnfold(event){\n        console.log(\"展开\")\n        this.flagUn = true;\n        this.bg.height = 390;\n        this.userPanel.active = false;\n        this.unfoldPanel.active = true;\n        this._xialajiant.active = false;\n    }\n\n    onUnfoldClose(event){\n        this.bg.height = 120;\n        this.userPanel.active = true;\n        this.unfoldPanel.active = false;\n        this._xialajiant.active = true;\n    }\n\n    onDirection(event){\n        if (event.target.name === \"btnLeft\"){\n\n        }else if(event.target.name === \"btnRight\"){\n\n        }\n        this._ds.active = !this._ds.active;\n        this._fh.active = !this._fh.active;\n \n    }\n\n\n    setUserPanel(){\n        for (let index = 0; index < 10; index++) {\n            let piece = cc.instantiate(this._userPanel)\n            piece.parent = this._content;\n            // var vip = piece.getChildByName(\"vip\");\n            // vip.getComponent(cc.Sprite).spriteFrame = this.headAtlas.getSpriteFrame(\"vip\"+index);\n\n            var labelInfo = piece.getChildByName(\"labelInfo\");\n            \n            var head = piece.getChildByName(\"head\");\n            var head1 = head.getChildByName(\"head1\");\n            head1.getComponent(cc.Sprite).spriteFrame = this.headAtlas.getSpriteFrame(\"touxiang\"+(index+1))\n            \n        }\n    }\n\n}\n"]}